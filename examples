hadoop fs -text /user/cloudera/retail_db/orders_text_snappy/*.snappy | tail

--fields-terminated-by \\001
--fields-terminated-by '\001'

--fields-terminated-by \|
--fields-terminated-by '|'

$ sqoop import --connect jdbc:mysql://quickstart:3306/retail_db --username retail_dba --password cloudera \
  -table orders -m 1 --hive-import --hive-table orders

CREATE TABLE Statement (Existing file)
======================================
hive> create external table orders_text (order_id int, order_date string, order_customer_id int, order_status string)
      row format delimited fields terminated by ',' location '/user/cloudera/orders_text';
OK

hive> create external table orders_sequence (order_id int, order_date string, order_customer_id int, order_status string)
      stored as sequencefile location '/user/cloudera/orders_sequence';
ERROR

hive> create external table orders_avro (order_id int, order_date string, order_customer_id int, order_status string)
      stored as avro location '/user/cloudera/orders_avro';
ERROR

hive> create external table orders_parquet (order_id int, order_date string, order_customer_id int, order_status string)
      stored as parquet location '/user/cloudera/orders_parquet';
ERROR

CREATE TABLE Statement (Empty)
======================================
hive> create external table orders_text_new (order_id int, order_date string, order_customer_id int, order_status string)
      row format delimited fields terminated by ',' location '/user/cloudera/orders_text_new';

hive> load data inpath '/user/cloudera/orders_gzip' into table orders_text_new;
FILE COPY

hive> create external table orders_text_new (order_id int, order_date string, order_customer_id int, order_status string)
      row format delimited fields terminated by '|' location '/user/cloudera/orders_text_new';
hive> insert into orders_text_new select * from orders;

hive> create external table orders_text_new (order_id int, order_date string, order_customer_id int, order_status string)
      location '/user/cloudera/orders_text_new';

hive> set hive.exec.compress.output=true;
deflat;

hive> create external table orders_text_new (order_id int, order_date string, order_customer_id int, order_status string)
      location '/user/cloudera/orders_text_new';

$ hive -e "set;" | grep "compress"
hive> set hive.exec.compress.output=true;
hive> set mapred.output.compression.codec=org.apache.hadoop.io.compress.SnappyCodec;
hive> insert into orders_text_new select * from orders;
hive> set mapred.output.compression.codec=org.apache.hadoop.io.compress.GzipCodec;
hive> insert into orders_text_new select * from orders;
hive> select count(*) from orders_text_new;

hive> set parquet.compression=gzip;
hive> create external table orders_parquet_new (order_id int, order_date string, order_customer_id int, order_status string)
      stored as parquet location '/user/cloudera/orders_parquet_new';
hive> insert into orders_text_new select * from orders;
hive> set parquet.compression=snappy;
hive> set parquet.compression=uncompressed;

hive> set hive.exec.compress.output=true;
hive> set mapred.output.compression.codec=org.apache.hadoop.io.compress.SnappyCodec;
hive> create external table orders_sequence_new (order_id int, order_date string, order_customer_id int, order_status string)
      stored as sequencefile  location '/user/cloudera/orders_sequence_new';
hive> insert into orders_sequence_new select * from orders;

hive> set hive.exec.compress.output=true;
hive> set avro.output.codec=snappy;
hive> create external table orders_avro_new (order_id int, order_date string, order_customer_id int, order_status string)
      stored as avro  location '/user/cloudera/orders_avro_new';
hive> insert into orders_avro_new select * from orders;

hive> create external table orders_orc_new (order_id int, order_date string, order_customer_id int, order_status string)
      stored as orc  location '/user/cloudera/orders_orc_new';
hive> alter table orders_orc_new set tblproperties("orc.compress"="SNAPPY");
hive> insert into orders_orc_new select * from orders;
hive> alter table orders_orc_new set tblproperties("orc.compress"="ZLIB");
hive> alter table orders_orc_new set tblproperties("orc.compress"="NONE");
hive> set orc.compress=SNAPPY;
hive> set orc.compress=ZLIB;
hive> set orc.compress=NONE;

CREATE TABLE LIKE
========================
hive> create external table orders_avro_new like orders stored as avro location '/user/cloudera/orders_avro_new';
hive> insert into orders_avro_new select * from orders;

Create Table As Select (CTAS)
==============================
hive> create table orders_avro_new stored as avro location '/user/cloudera/orders_avro_new' as select * from orders;
!!! No External table for CTAS

hive> create table orders_parquet_new stored as parquet location '/user/cloudera/orders_parquet_new' as select * from orders;

hive> create table orders_sequence_new stored as sequencefile location '/user/cloudera/orders_sequence_new' as select * from orders;

hive> create table orders_text_new row format delimited fields terminated by '|' location '/user/cloudera/orders_text_new' as select * from orders;


Column definitions inferred from data file:
============================================
hive> create table orders_parquet_new PARQUET '/user/cloudera/orders_parquet' stored as avro location '/user/cloudera/orders_avro_new';
DOES NOT WORK